



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://openemail.io/prerequisite-system/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Prepare Your System - Openemail Deployers Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-135540331-1", "docs.openemail.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="light-green">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#preparing-your-docker-host" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://openemail.io" title="Openemail Deployers Guide" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Openemail Deployers Guide
            </span>
            <span class="md-header-nav__topic">
              Prepare Your System
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/openemail/openemail-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    openemail/openemail
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://openemail.io" title="Openemail Deployers Guide" class="md-nav__button md-logo">
      
        <img src="../images/logo.png" width="48" height="48">
      
    </a>
    Openemail Deployers Guide
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/openemail/openemail-docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    openemail/openemail
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Product Overview and Support" class="md-nav__link">
      Product Overview and Support
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Prerequisites
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Prerequisites
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Prepare Your System
      </label>
    
    <a href="./" title="Prepare Your System" class="md-nav__link md-nav__link--active">
      Prepare Your System
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparing-your-docker-host" title="Preparing Your Docker Host" class="md-nav__link">
    Preparing Your Docker Host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-a-linux-distribution-for-the-docker-host" title="Choosing a Linux Distribution for the Docker Host" class="md-nav__link">
    Choosing a Linux Distribution for the Docker Host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimum-system-resources" title="Minimum System Resources" class="md-nav__link">
    Minimum System Resources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#firewall-and-ports" title="Firewall and Ports" class="md-nav__link">
    Firewall and Ports
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-ports" title="Default Ports" class="md-nav__link">
    Default Ports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-date-and-time" title="Setting Date and Time" class="md-nav__link">
    Setting Date and Time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-static-ip" title="Set Up Static IP" class="md-nav__link">
    Set Up Static IP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-mtu" title="Setting MTU" class="md-nav__link">
    Setting MTU
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prerequisite-dns/" title="DNS Setup" class="md-nav__link">
      DNS Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Installation and Update
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Installation and Update
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-update/" title="Update" class="md-nav__link">
      Update
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      First Steps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        First Steps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-ssl/" title="SSL" class="md-nav__link">
      SSL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-rspamd_ui/" title="Rspamd Web UI" class="md-nav__link">
      Rspamd Web UI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-rp/" title="Reverse Proxy" class="md-nav__link">
      Reverse Proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-snat/" title="SNAT" class="md-nav__link">
      SNAT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-disable_ipv6/" title="Disable IPv6" class="md-nav__link">
      Disable IPv6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-relayhost/" title="Setup A Relayhost" class="md-nav__link">
      Setup A Relayhost
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-local_mta/" title="Local MTA on Docker Host" class="md-nav__link">
      Local MTA on Docker Host
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firststeps-sync_jobs_migration/" title="Sync Jobs Migration" class="md-nav__link">
      Sync Jobs Migration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Models
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Models
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../model-sender_rcv/" title="Sender and Receiver Model" class="md-nav__link">
      Sender and Receiver Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../model-acl/" title="ACL" class="md-nav__link">
      ACL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Debugging and Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Debugging and Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../debug/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-logs/" title="Logs" class="md-nav__link">
      Logs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-attach_service/" title="Attach a Container" class="md-nav__link">
      Attach a Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-reset_pw/" title="Reset Passwords" class="md-nav__link">
      Reset Passwords
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-rm_volumes/" title="Remove Persistent Data" class="md-nav__link">
      Remove Persistent Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../debug-common_problems/" title="Common Problems" class="md-nav__link">
      Common Problems
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Backup and Restore
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Backup and Restore
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1">
    
    <label class="md-nav__link" for="nav-7-1">
      Helper script
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        Helper script
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../b_n_r_backup/" title="Backup" class="md-nav__link">
      Backup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../b_n_r_restore/" title="Restore" class="md-nav__link">
      Restore
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      Manually
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Manually
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-backup_restore-maildir/" title="Maildir" class="md-nav__link">
      Maildir
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-backup_restore-mysql/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Usage and Examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Usage and Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1">
    
    <label class="md-nav__link" for="nav-8-1">
      Openemail UI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1">
        Openemail UI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-mailcow_ui-config/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-mailcow_ui-bl_wl/" title="Blacklist / Whitelist" class="md-nav__link">
      Blacklist / Whitelist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-mailcow_ui-spamfilter/" title="Spamfilter" class="md-nav__link">
      Spamfilter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-mailcow_ui-spamalias/" title="Temporary Email Aliases" class="md-nav__link">
      Temporary Email Aliases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-mailcow_ui-tagging/" title="Tagging" class="md-nav__link">
      Tagging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-mailcow_ui-tfa/" title="Two-Factor Authentication" class="md-nav__link">
      Two-Factor Authentication
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-2" type="checkbox" id="nav-8-2">
    
    <label class="md-nav__link" for="nav-8-2">
      Postfix
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-2">
        Postfix
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-postfix-anonym_headers/" title="Anonymize Headers" class="md-nav__link">
      Anonymize Headers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-postfix-disable_sender_verification/" title="Disable Sender Addresses Verification" class="md-nav__link">
      Disable Sender Addresses Verification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-postfix-attachment_size/" title="Maximum Message Size or Attachment Size" class="md-nav__link">
      Maximum Message Size or Attachment Size
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-postfix-pflogsumm/" title="Statistics with Pflogsumm" class="md-nav__link">
      Statistics with Pflogsumm
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-3" type="checkbox" id="nav-8-3">
    
    <label class="md-nav__link" for="nav-8-3">
      Unbound
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-3">
        Unbound
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-unbound-fwd/" title="Using An External DNS Service" class="md-nav__link">
      Using An External DNS Service
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-4" type="checkbox" id="nav-8-4">
    
    <label class="md-nav__link" for="nav-8-4">
      Dovecot
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-4">
        Dovecot
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-any_acl/" title="Enable Any and All Authenticated ACL Settings" class="md-nav__link">
      Enable Any and All Authenticated ACL Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-expunge/" title="Expunge a User's Mails" class="md-nav__link">
      Expunge a User's Mails
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-mail-crypt/" title="Mail Crypt" class="md-nav__link">
      Mail Crypt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-more/" title="More Examples with DOVEADM" class="md-nav__link">
      More Examples with DOVEADM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-vmail-volume/" title="Move Vmail Volume" class="md-nav__link">
      Move Vmail Volume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-idle_interval/" title="IMAP IDLE Interval" class="md-nav__link">
      IMAP IDLE Interval
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-dovecot-fts/" title="FTS and Solr" class="md-nav__link">
      FTS and Solr
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-nginx/" title="Nginx" class="md-nav__link">
      Nginx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-redis/" title="Redis" class="md-nav__link">
      Redis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-rspamd/" title="Rspamd" class="md-nav__link">
      Rspamd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-sogo/" title="SOGo" class="md-nav__link">
      SOGo
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-9" type="checkbox" id="nav-8-9">
    
    <label class="md-nav__link" for="nav-8-9">
      Docker
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-9">
        Docker
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-docker-cust_dockerfiles/" title="Customize Dockerfiles" class="md-nav__link">
      Customize Dockerfiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-docker-dc_bash_compl/" title="Docker Compose Bash Completion" class="md-nav__link">
      Docker Compose Bash Completion
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-why_unbound/" title="Why unbound?" class="md-nav__link">
      Why unbound?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-autodiscover_config/" title="Autodiscover and  Autoconfig" class="md-nav__link">
      Autodiscover and  Autoconfig
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-80_to_443/" title="Redirect HTTP to HTTPS" class="md-nav__link">
      Redirect HTTP to HTTPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-change_config/" title="Adjust Service Configurations" class="md-nav__link">
      Adjust Service Configurations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../u_e-deinstall/" title="Deinstall" class="md-nav__link">
      Deinstall
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Client Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Client Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../client/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-android/" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-apple/" title="Apple macOS / iOS" class="md-nav__link">
      Apple macOS / iOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-emclient/" title="eM Client" class="md-nav__link">
      eM Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-kontact/" title="KDE Kontact" class="md-nav__link">
      KDE Kontact
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-outlook/" title="Microsoft Outlook" class="md-nav__link">
      Microsoft Outlook
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-thunderbird/" title="Mozilla Thunderbird" class="md-nav__link">
      Mozilla Thunderbird
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-windows/" title="Windows Mail" class="md-nav__link">
      Windows Mail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-windowsphone/" title="Windows Phone" class="md-nav__link">
      Windows Phone
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client/client-manual/" title="Manual configuration" class="md-nav__link">
      Manual configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Third Party Apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Third Party Apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../third_party-thunderbird/" title="SOGo Integrator for Thunderbird" class="md-nav__link">
      SOGo Integrator for Thunderbird
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../third_party-roundcube/" title="Roundcube" class="md-nav__link">
      Roundcube
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../third_party-portainer/" title="Portainer" class="md-nav__link">
      Portainer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../third_party-gogs/" title="Gogs" class="md-nav__link">
      Gogs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../third_party-gitea/" title="Gitea" class="md-nav__link">
      Gitea
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#preparing-your-docker-host" title="Preparing Your Docker Host" class="md-nav__link">
    Preparing Your Docker Host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#choosing-a-linux-distribution-for-the-docker-host" title="Choosing a Linux Distribution for the Docker Host" class="md-nav__link">
    Choosing a Linux Distribution for the Docker Host
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimum-system-resources" title="Minimum System Resources" class="md-nav__link">
    Minimum System Resources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#firewall-and-ports" title="Firewall and Ports" class="md-nav__link">
    Firewall and Ports
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-ports" title="Default Ports" class="md-nav__link">
    Default Ports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-date-and-time" title="Setting Date and Time" class="md-nav__link">
    Setting Date and Time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-up-static-ip" title="Set Up Static IP" class="md-nav__link">
    Set Up Static IP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setting-mtu" title="Setting MTU" class="md-nav__link">
    Setting MTU
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/openemail/openemail-docs/edit/master/docs/prerequisite-system.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Prepare Your System</h1>
                
                <h2 id="preparing-your-docker-host"><strong>Preparing Your Docker Host</strong><a class="headerlink" href="#preparing-your-docker-host" title="Permanent link">&para;</a></h2>
<p>Before you run <strong>openemail</strong>, there are a few requirements that you should check:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When running openemail on a Debian 8 (Jessie) box, you should <a href="https://packages.debian.org/jessie-backports/linux-image-amd64">switch to kernel 4.9 from Jessie backports</a> to avoid a bug when running Docker containers with <em>healthchecks</em>! For more details read: <a href="https://github.com/docker/docker/issues/30402">github.com/docker/docker/issues/30402</a></p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>openemail requires <a href="#default-ports">some ports</a> to be open for incoming connections, so make sure that your firewall is not blocking these port</li>
<li>Make sure that no other application is interfering with openemail's configuration, such as another mail service</li>
<li>A correct DNS setup is crucial to every good mailserver setup, so please make sure you got at least the <a href="https://openemail.io/prerequisite-dns/#setting-up-mx-records">basics DNS setup</a> covered before you begin!</li>
<li>Make sure that your system has a correct date and <a href="#date-and-time">time setup</a>. This is crucial for stuff like two factor TOTP authentication.</li>
</ul>
</div>
<h2 id="choosing-a-linux-distribution-for-the-docker-host"><strong>Choosing a Linux Distribution for the Docker Host</strong><a class="headerlink" href="#choosing-a-linux-distribution-for-the-docker-host" title="Permanent link">&para;</a></h2>
<p>During the creation of this installation guide I used <a href="http://releases.ubuntu.com/18.04/">Ubuntu 18.04.2 LTS (Bionic Beaver)</a>. Some of the examples shown in this document may largely depend on this Linux distribution.   But with a minor adjustment  on it you can make it prepare to get working in your Linux distribution of choice as your docker host. It may be Ubuntu, Debian, CentOS, or an another.</p>
<h2 id="minimum-system-resources"><strong>Minimum System Resources</strong><a class="headerlink" href="#minimum-system-resources" title="Permanent link">&para;</a></h2>
<p>Please make sure that your system has at least the following resources:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Openemail</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>1 GHz</td>
</tr>
<tr>
<td>RAM                    </td>
<td>2 GiB + Swap (better: 4 GiB + Swap)</td>
</tr>
<tr>
<td>Disk</td>
<td>5 GiB (without emails)</td>
</tr>
<tr>
<td>System Type</td>
<td>x86_64</td>
</tr>
</tbody>
</table>
<p>ClamAV and Solr are greedy RAM munchers. You can disable them in <code>openemail.conf</code> by settings SKIP_CLAMD=y and SKIP_SOLR=y.</p>
<h2 id="firewall-and-ports"><strong>Firewall and Ports</strong><a class="headerlink" href="#firewall-and-ports" title="Permanent link">&para;</a></h2>
<p>Please check if any of openemail's standard ports are open and not in use by other applications:</p>
<div class="codehilite"><pre><span></span># netstat -tulpn | grep -E -w &#39;25|80|110|143|443|465|587|993|995&#39;
</pre></div>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are several problems with running Openemail on a firewalld/ufw enabled system. You should disable it (if possible) and move your ruleset to the DOCKER-USER chain, which is not cleared by a Docker service restart, instead. See <a href="https://blog.donnex.net/docker-and-iptables-filtering/">this blog post</a> for information about how to use iptables-persistent with the DOCKER-USER chain.
As openemail runs dockerized, INPUT rules have no effect on restricting access to openemail. Use the FORWARD chain instead.</p>
</div>
<p>If this command returns any results please remove or stop the application running on that port. You may also adjust openemail ports via the openemail.conf` configuration file.</p>
<h3 id="default-ports"><strong>Default Ports</strong><a class="headerlink" href="#default-ports" title="Permanent link">&para;</a></h3>
<p>If you have a firewall in front of openemail docker host, please make sure that these ports are open for incoming connections:</p>
<table>
<thead>
<tr>
<th>Service</th>
<th align="center">Protocol</th>
<th align="left">Port</th>
<th align="left">Container</th>
<th>Variable</th>
</tr>
</thead>
<tbody>
<tr>
<td>Postfix SMTP</td>
<td align="center">TCP</td>
<td align="left">25</td>
<td align="left">postfix-openemail</td>
<td><code>${SMTP_PORT}</code></td>
</tr>
<tr>
<td>Postfix SMTPS</td>
<td align="center">TCP</td>
<td align="left">465</td>
<td align="left">postfix-openemail</td>
<td><code>${SMTPS_PORT}</code></td>
</tr>
<tr>
<td>Postfix Submission</td>
<td align="center">TCP</td>
<td align="left">587</td>
<td align="left">postfix-openemail</td>
<td><code>${SUBMISSION_PORT}</code></td>
</tr>
<tr>
<td>Dovecot IMAP</td>
<td align="center">TCP</td>
<td align="left">143</td>
<td align="left">dovecot-openemail</td>
<td><code>${IMAP_PORT}</code></td>
</tr>
<tr>
<td>Dovecot IMAPS</td>
<td align="center">TCP</td>
<td align="left">993</td>
<td align="left">dovecot-openemail</td>
<td><code>${IMAPS_PORT}</code></td>
</tr>
<tr>
<td>Dovecot POP3</td>
<td align="center">TCP</td>
<td align="left">110</td>
<td align="left">dovecot-openemail</td>
<td><code>${POP_PORT}</code></td>
</tr>
<tr>
<td>Dovecot POP3S</td>
<td align="center">TCP</td>
<td align="left">995</td>
<td align="left">dovecot-openemail</td>
<td><code>${POPS_PORT}</code></td>
</tr>
<tr>
<td>Dovecot ManageSieve</td>
<td align="center">TCP</td>
<td align="left">4190</td>
<td align="left">dovecot-openemail</td>
<td><code>${SIEVE_PORT}</code></td>
</tr>
<tr>
<td>HTTP(S)</td>
<td align="center">TCP</td>
<td align="left">80/443</td>
<td align="left">nginx-openemail</td>
<td><code>${HTTP_PORT}</code> / <code>${HTTPS_PORT}</code></td>
</tr>
</tbody>
</table>
<p>To bind a service to an IP address, you can prepend the IP like this: <code>SMTP_PORT=1.2.3.4:25</code></p>
<p><strong>Important</strong>: You cannot use IP:PORT bindings in HTTP_PORT and HTTPS_PORT. Please use <code>HTTP_PORT=1234</code> and <code>HTTP_BIND=1.2.3.4</code> instead.</p>
<h2 id="setting-date-and-time"><strong>Setting Date and Time</strong><a class="headerlink" href="#setting-date-and-time" title="Permanent link">&para;</a></h2>
<p>You need to ensure that date and time is accurate. This is required for the operation of openemail as well and accurate system logging.</p>
<p><strong>To check your current time run:</strong><br />
<div class="codehilite"><pre><span></span>$ timedatectl status
</pre></div>
You will get an output like below</p>
<p><div class="codehilite"><pre><span></span>                      Local time: Tue 2019-03-05 09:17:54 UTC
                  Universal time: Tue 2019-03-05 09:17:54 UTC
                        RTC time: Tue 2019-03-05 09:17:55
                       Time zone: Etc/UTC (UTC, +0000)
       System clock synchronized: yes
                      Local time: Tue 2019-03-05 09:17:54 UTC
                  Universal time: Tue 2019-03-05 09:17:54 UTC
                        RTC time: Tue 2019-03-05 09:17:55
                       Time zone: Etc/UTC (UTC, +0000)
       System clock synchronized: yes
systemd-timesyncd.service active: no
                 RTC in local TZ: no
                 RTC in local TZ: no
</pre></div>
The value <code>systemd-timesyncd.service active: no</code> means your system hasn't been configured get it time synced using <code>systemd-timesyncd</code></p>
<p><strong>To set your system time to sync with `systemd-timesyncd, run:</strong></p>
<p><div class="codehilite"><pre><span></span>$ sudo sudo timedatectl set-ntp on
</pre></div>
Now run again run <code>timedatectl status</code>. You will observe that <code>systemd-timesyncd.service active: yes</code></p>
<p><div class="codehilite"><pre><span></span>$ timedatectl status
</pre></div>
You will see this time <code>systemd-timesyncd.service active: yes</code> as in the below output
`
                      Local time: Tue 2019-03-05 09:26:24 UTC
                  Universal time: Tue 2019-03-05 09:26:24 UTC
                        RTC time: Tue 2019-03-05 09:26:25
                       Time zone: Etc/UTC (UTC, +0000)
       System clock synchronized: yes
systemd-timesyncd.service active: yes</p>
<p><strong>To check to see whether <code>systemd-timesyncd</code> is running:</strong></p>
<div class="codehilite"><pre><span></span>sudo systemctl status systemd-timesyncd
</pre></div>

<p>If it is not running you will get an output like below.
<div class="codehilite"><pre><span></span><span class="nt">systemctl</span> <span class="nt">status</span> <span class="nt">systemd-timesyncd</span>
<span class="err">●</span> <span class="nt">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span> <span class="nt">-</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span>
   <span class="nt">Loaded</span><span class="o">:</span> <span class="nt">loaded</span> <span class="o">(/</span><span class="nt">lib</span><span class="o">/</span><span class="nt">systemd</span><span class="o">/</span><span class="nt">system</span><span class="o">/</span><span class="nt">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span><span class="o">;</span> <span class="nt">enabled</span><span class="o">;</span> <span class="nt">vendor</span> <span class="nt">preset</span><span class="o">:</span> <span class="nt">enabled</span><span class="o">)</span>
   <span class="nt">Active</span><span class="o">:</span> <span class="nt">inactive</span> <span class="o">(</span><span class="nt">dead</span><span class="o">)</span> <span class="nt">since</span> <span class="nt">Wed</span> <span class="nt">2019-03-06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">18</span><span class="p">:</span><span class="nd">40</span> <span class="nt">UTC</span><span class="o">;</span> <span class="nt">2s</span> <span class="nt">ago</span>
     <span class="nt">Docs</span><span class="o">:</span> <span class="nt">man</span><span class="p">:</span><span class="nd">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span><span class="o">(</span><span class="nt">8</span><span class="o">)</span>
  <span class="nt">Process</span><span class="o">:</span> <span class="nt">21020</span> <span class="nt">ExecStart</span><span class="o">=/</span><span class="nt">lib</span><span class="o">/</span><span class="nt">systemd</span><span class="o">/</span><span class="nt">systemd-timesyncd</span> <span class="o">(</span><span class="nt">code</span><span class="o">=</span><span class="nt">exited</span><span class="o">,</span> <span class="nt">status</span><span class="o">=</span><span class="nt">0</span><span class="o">/</span><span class="nt">SUCCESS</span><span class="o">)</span>
 <span class="nt">Main</span> <span class="nt">PID</span><span class="o">:</span> <span class="nt">21020</span> <span class="o">(</span><span class="nt">code</span><span class="o">=</span><span class="nt">exited</span><span class="o">,</span> <span class="nt">status</span><span class="o">=</span><span class="nt">0</span><span class="o">/</span><span class="nt">SUCCESS</span><span class="o">)</span>
   <span class="nt">Status</span><span class="o">:</span> <span class="s2">&quot;Idle.&quot;</span>

<span class="nt">Mar</span> <span class="nt">05</span> <span class="nt">09</span><span class="p">:</span><span class="nd">26</span><span class="p">:</span><span class="nd">13</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Starting</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span><span class="o">...</span>
<span class="nt">Mar</span> <span class="nt">05</span> <span class="nt">09</span><span class="p">:</span><span class="nd">26</span><span class="p">:</span><span class="nd">13</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Started</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span><span class="o">.</span>
<span class="nt">Mar</span> <span class="nt">05</span> <span class="nt">09</span><span class="p">:</span><span class="nd">26</span><span class="p">:</span><span class="nd">13</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd-timesyncd</span><span class="cp">[</span><span class="mi">21020</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Synchronized</span> <span class="nt">to</span> <span class="nt">time</span> <span class="nt">server</span> <span class="nt">91</span><span class="p">.</span><span class="nc">189</span><span class="p">.</span><span class="nc">89</span><span class="p">.</span><span class="nc">198</span><span class="p">:</span><span class="nd">123</span> <span class="o">(</span><span class="nt">ntp</span><span class="p">.</span><span class="nc">ubuntu</span><span class="p">.</span><span class="nc">com</span><span class="o">).</span>
<span class="nt">Mar</span> <span class="nt">06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">18</span><span class="p">:</span><span class="nd">40</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Stopping</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span><span class="o">...</span>
<span class="nt">Mar</span> <span class="nt">06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">18</span><span class="p">:</span><span class="nd">40</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Stopped</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span><span class="o">.</span>
</pre></div>
<strong>To start <code>systemd-timesyncd</code> run:</strong></p>
<div class="codehilite"><pre><span></span>sudo systemctl start systemd-timesyncd
</pre></div>

<p><strong>To see the status of <code>systemd-timesyncd</code> run:</strong></p>
<div class="codehilite"><pre><span></span>sudo systemctl status systemd-timesyncd
</pre></div>

<p>Your output should be like below</p>
<div class="codehilite"><pre><span></span><span class="err">●</span> <span class="nt">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span> <span class="nt">-</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span>
   <span class="nt">Loaded</span><span class="o">:</span> <span class="nt">loaded</span> <span class="o">(/</span><span class="nt">lib</span><span class="o">/</span><span class="nt">systemd</span><span class="o">/</span><span class="nt">system</span><span class="o">/</span><span class="nt">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span><span class="o">;</span> <span class="nt">enabled</span><span class="o">;</span> <span class="nt">vendor</span> <span class="nt">preset</span><span class="o">:</span> <span class="nt">enabled</span><span class="o">)</span>
   <span class="nt">Active</span><span class="o">:</span> <span class="nt">active</span> <span class="o">(</span><span class="nt">running</span><span class="o">)</span> <span class="nt">since</span> <span class="nt">Wed</span> <span class="nt">2019-03-06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">30</span><span class="p">:</span><span class="nd">08</span> <span class="nt">UTC</span><span class="o">;</span> <span class="nt">8s</span> <span class="nt">ago</span>
     <span class="nt">Docs</span><span class="o">:</span> <span class="nt">man</span><span class="p">:</span><span class="nd">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span><span class="o">(</span><span class="nt">8</span><span class="o">)</span>
 <span class="nt">Main</span> <span class="nt">PID</span><span class="o">:</span> <span class="nt">29018</span> <span class="o">(</span><span class="nt">systemd-timesyn</span><span class="o">)</span>
   <span class="nt">Status</span><span class="o">:</span> <span class="s2">&quot;Synchronized to time server 91.189.89.198:123 (ntp.ubuntu.com).&quot;</span>
    <span class="nt">Tasks</span><span class="o">:</span> <span class="nt">2</span> <span class="o">(</span><span class="nt">limit</span><span class="o">:</span> <span class="nt">2361</span><span class="o">)</span>
   <span class="nt">CGroup</span><span class="o">:</span> <span class="o">/</span><span class="nt">system</span><span class="p">.</span><span class="nc">slice</span><span class="o">/</span><span class="nt">systemd-timesyncd</span><span class="p">.</span><span class="nc">service</span>
           <span class="err">└─</span><span class="nt">29018</span> <span class="o">/</span><span class="nt">lib</span><span class="o">/</span><span class="nt">systemd</span><span class="o">/</span><span class="nt">systemd-timesyncd</span>

<span class="nt">Mar</span> <span class="nt">06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">30</span><span class="p">:</span><span class="nd">08</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Starting</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span><span class="o">...</span>
<span class="nt">Mar</span> <span class="nt">06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">30</span><span class="p">:</span><span class="nd">08</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd</span><span class="cp">[</span><span class="mi">1</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Started</span> <span class="nt">Network</span> <span class="nt">Time</span> <span class="nt">Synchronization</span><span class="o">.</span>
<span class="nt">Mar</span> <span class="nt">06</span> <span class="nt">03</span><span class="p">:</span><span class="nd">30</span><span class="p">:</span><span class="nd">08</span> <span class="nt">mail</span><span class="p">.</span><span class="nc">openemail</span><span class="p">.</span><span class="nc">io</span> <span class="nt">systemd-timesyncd</span><span class="cp">[</span><span class="mi">29018</span><span class="cp">]</span><span class="o">:</span> <span class="nt">Synchronized</span> <span class="nt">to</span> <span class="nt">time</span> <span class="nt">server</span> <span class="nt">91</span><span class="p">.</span><span class="nc">189</span><span class="p">.</span><span class="nc">89</span><span class="p">.</span><span class="nc">198</span><span class="p">:</span><span class="nd">123</span> <span class="o">(</span><span class="nt">ntp</span><span class="p">.</span><span class="nc">ubuntu</span><span class="p">.</span><span class="nc">com</span><span class="o">).</span>
</pre></div>

<h2 id="set-up-static-ip"><strong>Set Up Static IP</strong><a class="headerlink" href="#set-up-static-ip" title="Permanent link">&para;</a></h2>
<p>Ubuntu 18.04 has changed its network interface configuration subsystem with new netplan configuration. The yml syntaxes are used in network configuration.</p>
<p><strong>To configure the network</strong></p>
<p><div class="codehilite"><pre><span></span>sudo nano  /etc/netplan/50-cloud-init.yaml
</pre></div>
Below is an example configuration. Adjust settings as per your network environment.</p>
<p><div class="codehilite"><pre><span></span><span class="n">network</span><span class="o">:</span>
    <span class="n">version</span><span class="o">:</span> <span class="mi">2</span>
    <span class="n">ethernets</span><span class="o">:</span>
        <span class="n">eth0</span><span class="o">:</span>
            <span class="n">addresses</span><span class="o">:</span>
            <span class="o">-</span> <span class="mf">178.128</span><span class="o">.</span><span class="mf">57.210</span><span class="o">/</span><span class="mi">20</span>
            <span class="n">gateway4</span><span class="o">:</span> <span class="mf">178.128</span><span class="o">.</span><span class="mf">48.1</span>
            <span class="n">match</span><span class="o">:</span>
                <span class="n">macaddress</span><span class="o">:</span> <span class="mi">0</span><span class="n">a</span><span class="o">:</span><span class="mi">17</span><span class="o">:</span><span class="mi">6</span><span class="n">b</span><span class="o">:</span><span class="mi">4</span><span class="n">f</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="n">ed</span>
            <span class="n">nameservers</span><span class="o">:</span>
                <span class="n">addresses</span><span class="o">:</span>
                <span class="o">-</span> <span class="mf">67.207</span><span class="o">.</span><span class="mf">67.2</span>
                <span class="o">-</span> <span class="mf">67.207</span><span class="o">.</span><span class="mf">67.3</span>
                <span class="n">search</span><span class="o">:</span> <span class="o">[]</span>
            <span class="kd">set</span><span class="o">-</span><span class="n">name</span><span class="o">:</span> <span class="n">eth0</span>
</pre></div>
<strong>To update your settings run:</strong>
<div class="codehilite"><pre><span></span>sudo netplan apply
</pre></div></p>
<p><strong>To check your network configuration run</strong></p>
<div class="codehilite"><pre><span></span>ip addr sh eth0
</pre></div>

<p>You will get an output like Below</p>
<div class="codehilite"><pre><span></span>eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
   link/ether 0a:17:6b:4f:06:ed brd ff:ff:ff:ff:ff:ff
   inet 178.128.57.210/20 brd 178.128.63.255 scope global eth0
      valid_lft forever preferred_lft forever
   inet6 fe80::817:6bff:fe4f:6ed/64 scope link
      valid_lft forever preferred_lft forever
</pre></div>

<h2 id="setting-mtu"><strong>Setting MTU</strong><a class="headerlink" href="#setting-mtu" title="Permanent link">&para;</a></h2>
<p>If you are running openemail in OpenStack environment: Check your MTU and set it accordingly in docker-compose.yml. See <strong>4.1</strong> in <a href="https://docs.openemail.io/install/">our installation docs</a>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href=".." title="Product Overview and Support" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Product Overview and Support
              </span>
            </div>
          </a>
        
        
          <a href="../prerequisite-dns/" title="DNS Setup" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                DNS Setup
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright 2019 Chinthaka Deshapriya
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://openemail.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://docs.openemail.io" class="md-footer-social__link fa fa-github-alt"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../clients.js"></script>
      
    
  </body>
</html>